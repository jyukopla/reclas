<rules xmlns="http://namespaces.plone.org/diazo"
       xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

  <!-- 'theme' is the node with data-tile="" -->
  <!-- 'content' is the /body node the tile  -->

  <replace theme="/*" if-content="/body/nav">
    <div class="row hidden-print">
      <div class="col-md-12 hidden-sm-down">
        <div class="breadcrumbs">
          <xsl:apply-templates select="/body/nav" />
        </div>
      </div>
    </div>
  </replace>

  <replace content="/body/nav">
    <xsl:for-each select="//li/*">
      <xsl:if test="position() != last()">
        <xsl:copy>
          <xsl:apply-templates select="@*|node()" />
        </xsl:copy>
        <span> > </span>
      </xsl:if>
      <xsl:if test="position() = last()">
        <xsl:copy>
          <xsl:attribute name="class">
            <xsl:text>title</xsl:text>
          </xsl:attribute>
          <xsl:apply-templates select="@*|node()" />
        </xsl:copy>
      </xsl:if>
    </xsl:for-each>
  </replace>

</rules>

